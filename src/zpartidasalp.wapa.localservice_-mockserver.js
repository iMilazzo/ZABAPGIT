sap.ui.define(["sap/ui/core/util/MockServer","sap/base/util/UriParameters","sap/base/Log","sap/ui/util/XMLHelper"],function(e,t,a,r){"use strict";var n,i="PartidasALP.PartidasALP/",o=i+"localService/mockdata";return{init:function(){var s=new t(window.loc+
ation.href),u=jQuery.sap.getModulePath(o),p=jQuery.sap.getModulePath(i+"manifest",".json"),c="ZIM_C_PARTIDASK_CUBE",l=s.get("errorType"),d=l==="badRequest"?400:500,f=jQuery.sap.syncGetJSON(p).data,g=f["sap.app"].dataSources,h=g.mainService,m=jQuery.sap.g+
etModulePath(i+h.settings.localUri.replace(".xml",""),".xml"),M=/.*\/$/.test(h.uri)?h.uri:h.uri+"/",y=h.settings.annotations;n=new e({rootUri:M});e.config({autoRespond:true,autoRespondAfter:s.get("serverDelay")||1e3});n.simulate(m,{sMockdataBaseUrl:u,bGe+
nerateMissingMockData:true});var v=n.getRequests(),x=function(e,t,a){a.response=function(a){a.respond(e,{"Content-Type":"text/plain;charset=utf-8"},t)}};if(s.get("metadataError")){v.forEach(function(e){if(e.path.toString().indexOf("$metadata")>-1){x(500,+
"metadata Error",e)}})}if(l){v.forEach(function(e){if(e.path.toString().indexOf(c)>-1){x(d,l,e)}})}n.start();a.info("Running the app with mock data");y.forEach(function(t){var a=g[t],n=a.uri,o=jQuery.sap.getModulePath(i+a.settings.localUri.replace(".xml"+
,""),".xml");new e({rootUri:n,requests:[{method:"GET",path:new RegExp(""),response:function(e){var t=jQuery.sap.sjax({url:o,dataType:"xml"}).data;e.respondXML(200,{},r.serialize(t));return true}}]}).start()})},getMockServer:function(){return n}}});       